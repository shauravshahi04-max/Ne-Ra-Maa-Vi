<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Student Dashboard</title>

    <link rel="stylesheet" href="student.css" />
  </head>
  <body>
    <h2>Welcome, <span id="studentId"></span></h2>

    <ul>
      <li>Class: <span id="class"></span></li>
      <li>Section: <span id="section"></span></li>
      <li>Attendance: <span id="attendance"></span>%</li>
      <li>Fees: <span id="fees"></span></li>
      <li>Result: <span id="result"></span></li>
    </ul>
    <section class="notice-section">
      <div class="notice-board">
        <h3>Notice Board</h3>
        <p id="noticeContent"></p>
      </div>

      <script>
        document.getElementById("noticeContent").innerText =
          localStorage.getItem("noticeBoard") || "No notices available.";
      </script>
    </section>

    <script>
      if (
        localStorage.getItem("isLoggedIn") !== "true" ||
        localStorage.getItem("role") !== "student"
      ) {
        window.location.href = "/pages/auth/student-login.html";
      }

      const studentId = localStorage.getItem("userId");
      const records = JSON.parse(localStorage.getItem("studentRecords")) || {};
      const student = records[studentId];

      document.getElementById("studentId").innerText = studentId;
      document.getElementById("class").innerText =
        student.class;
      document.getElementById("section").innerText = student.section || "-";
      document.getElementById("attendance").innerText = student.attendance;
      document.getElementById("fees").innerText = student.feesStatus;
      document.getElementById("result").innerText = student.results.final;
    </script>
  </body>
</html>
